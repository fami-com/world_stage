{%extends "base.html" %}
{% block title %}Detailed Results â€“ {{ show_name }}{% endblock %}
{% block headercontents %}
    <link rel="stylesheet" href="/static/css/results.css">
{% endblock %}
{% block navigation %}
    <a class="nav-item" href="/results/{{ show }}">Results Summary</a>
    <a class="nav-item" href="/results/{{ show }}/scoreboard">Scoreboard</a>
{% endblock %}
{% block content %}
<div id="scroll-container">
    <table>
        <thead>
            <tr>
                <th>RO</th>
                <th class="sticky">Country</th>
                <th>Artist</th>
                <th>Title</th>
                <th>Total</th>
            {% for voter, result in results.items() %}
                <th class="user-vote">
                    <div class="user-vote-container" title="{{ voter }}">
                        {{ flag(result.code, result.country, class="vote-flag") }}
                        <div class="voter-name">{{ voter }}</div>
                    </div>
                </th>
            {% endfor %}
            </tr>
        </thead>
        <tbody>
        {% for song in songs %}
            <tr>
                <td class="number header-like">{{ loop.index }}</td>
                <td class="sticky">{{ flag(song.cc, song.country) }}{{ song.country }}</td>
                <td>{{ song.artist }}</td>
                <th class="plain">{{ song.title }}</td>
                <td class="number">{{ song.sum }}</td>
            {% for voter in results.keys() %}
            {% set pts = results[voter].get(song.id, 0) %}
                <td class="number {{ "zero" if pts == 0 else "nonzero" }}">{{ pts }}</td>
            {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}